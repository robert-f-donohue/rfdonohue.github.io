---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
import Card from "./Card.astro";
import Tag from "./Tag.astro";

const { project } = Astro.props as { project: CollectionEntry<"projects"> };
---

<Card href={`/projects/${project.slug}/`}>
  {project.data.heroImage ? (
    <div class="mb-3 overflow-hidden rounded-xl border border-border bg-bg">
      <Image src={project.data.heroImage} alt="" width={1200} height={600} />
    </div>
  ) : null}

  <div class="flex items-start justify-between gap-3">
    <h3 class="text-lg font-semibold text-fg leading-snug">
      {project.data.title}
    </h3>

    <div class="flex flex-col items-end gap-1">
      <span class="text-xs text-muted capitalize">{project.data.category}</span>
      <span class="text-[11px] rounded-full border border-border bg-panel/60 px-2 py-0.5 text-muted capitalize">
        {project.data.status ?? "active"}
      </span>
    </div>
  </div>

  <p class="mt-2 text-sm text-muted">{project.data.description}</p>

  {project.data.tags?.length ? (
    <div class="mt-3 flex flex-wrap gap-2">
      {project.data.tags.slice(0, 4).map((t) => <Tag label={t} />)}
    </div>
  ) : null}
</Card>


