@import "tailwindcss";

/* Fonts */
@font-face {
  font-family: "Atkinson";
  src: url("/fonts/atkinson-regular.woff") format("woff");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Atkinson";
  src: url("/fonts/atkinson-bold.woff") format("woff");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* ---------------------------------------------------------
   Tokens
--------------------------------------------------------- */
:root {
  /* Core palette */
  --bg: 255 255 255;
  --fg: 15 23 42;         /* slate-900 */
  --muted: 71 85 105;     /* slate-600 */
  --border: 226 232 240;  /* slate-200 */
  --panel: 248 250 252;   /* slate-50 */
  --accent: 37 99 235;    /* blue-600 */

  /* Extra tokens */
  --ring: 37 99 235;      /* match accent */
  --shadow: 0 10px 30px -12px rgb(0 0 0 / 0.18);

  /* Code */
  --code-bg: 248 250 252;
  --code-fg: 15 23 42;

  --radius: 18px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: 2 6 23;         /* slate-950 */
    --fg: 226 232 240;    /* slate-200 */
    --muted: 148 163 184; /* slate-400 */
    --border: 30 41 59;   /* slate-800 */
    --panel: 15 23 42;    /* slate-900 */
    --accent: 96 165 250; /* blue-400 */
    --ring: 96 165 250;
    --shadow: 0 10px 30px -12px rgb(0 0 0 / 0.45);

    --code-bg: 15 23 42;
    --code-fg: 226 232 240;
  }
}

/* ---------------------------------------------------------
   Base
--------------------------------------------------------- */
html,
body {
  height: 100%;
}

html {
  color-scheme: light dark;
}

body {
  margin: 0;
  font-family: "Atkinson", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial,
    "Apple Color Emoji", "Segoe UI Emoji";
  color: rgb(var(--fg));
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Subtle premium background */
  background-image:
    radial-gradient(1200px circle at 15% -10%, rgb(var(--accent) / 0.12), transparent 60%),
    radial-gradient(900px circle at 90% 10%, rgb(var(--border) / 0.35), transparent 55%);
  background-attachment: fixed;
}

/* Default focus behavior (helps accessibility everywhere) */
:focus-visible {
  outline: 2px solid rgb(var(--ring) / 0.65);
  outline-offset: 2px;
  border-radius: 10px;
}

/* Links */
a {
  color: rgb(var(--accent));
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
  text-decoration-color: color-mix(in srgb, rgb(var(--accent)) 45%, transparent);
}

::selection {
  background: color-mix(in srgb, rgb(var(--accent)) 25%, transparent);
}

/* Media */
img,
video {
  max-width: 100%;
  height: auto;
  display: block;
}
img {
  border-radius: calc(var(--radius) - 6px);
}

/* Horizontal rule */
hr {
  border: 0;
  border-top: 1px solid rgb(var(--border));
}

/* Code */
code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  font-size: 0.95em;
  background: rgb(var(--code-bg));
  color: rgb(var(--code-fg));
  padding: 0.15rem 0.35rem;
  border: 1px solid rgb(var(--border));
  border-radius: 10px;
}

pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New",
    monospace;
  background: rgb(var(--code-bg));
  color: rgb(var(--code-fg));
  border: 1px solid rgb(var(--border));
  border-radius: var(--radius);
  padding: 1rem;
  overflow-x: auto;
  box-shadow: var(--shadow);
}

pre code {
  padding: 0;
  border: 0;
  background: transparent;
  color: inherit;
}

/* Blockquotes */
blockquote {
  margin: 0;
  padding-left: 1rem;
  border-left: 3px solid rgb(var(--border));
  color: rgb(var(--muted));
}

/* Tables */
table {
  width: 100%;
  border-collapse: collapse;
}
table th,
table td {
  border-bottom: 1px solid rgb(var(--border));
  padding: 0.6rem 0.5rem;
  text-align: left;
}

/* Prose tweaks (typography plugin output) */
.prose a {
  color: rgb(var(--accent));
  text-decoration: underline;
  text-decoration-color: color-mix(in srgb, rgb(var(--accent)) 35%, transparent);
  text-underline-offset: 3px;
}
.prose a:hover {
  text-decoration-color: color-mix(in srgb, rgb(var(--accent)) 70%, transparent);
}
.prose :where(code):not(:where(pre code)) {
  font-weight: 500;
}

/* Accessibility */
.sr-only {
  border: 0;
  padding: 0;
  margin: 0;
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  white-space: nowrap;
}

